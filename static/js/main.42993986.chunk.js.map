{"version":3,"sources":["components/Filters/Filter/Filter.js","components/Filters/FilterBtn/FilterBtn.js","components/Filters/Search/Search.js","components/Filters/Filters.js","components/CardList/CardItem/CardItem.js","components/CardList/CardList.js","utils/getDataFromApi.js","components/Container/Container.js","index.js"],"names":["Filter","_ref","header","values","checked","handleChange","renderFilter","map","name","i","react_default","a","createElement","key","type","value","Object","keys","includes","onChange","className","FilterBtn","handleClick","assign","onClick","Search","placeholder","statusValues","genderValues","Filters","sortByName","sortByDesc","sortByAsc","sortByStatus","sortByGender","resetFilters","activeFilters","Filters_Search_Search","Filters_FilterBtn_FilterBtn","Filters_Filter_Filter","status","gender","CardItem","card","image","location","species","src","alt","CardList","React","forwardRef","ref","cards","CardList_CardItem_CardItem","apiUrl","getDataFromApi","asyncToGenerator","regenerator_default","mark","_callee","page","response","result","wrap","_context","prev","next","abrupt","undefined","concat","fetch","sent","json","results","t0","console","log","stop","_x","apply","this","arguments","App","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleScroll","isFreeFilters","every","filter","length","heightForUpdList","list","clientHeight","window","pageYOffset","setList","e","stopPropagation","target","toLowerCase","applyFilters","sort","_e$target","_e$target2","state","_this$activeFilters","sortedList","JSON","parse","stringify","item","nameA","nameB","setState","addEventListener","removeEventListener","toConsumableArray","_this2","_this$state","components_Filters_Filters","sortFilter","components_CardList_CardList","el","Component","ReactDOM","render","Container_Container","document","getElementById"],"mappings":"mXA0BeA,qBAvBA,SAAAC,GAA+C,IAA5CC,EAA4CD,EAA5CC,OAAQC,EAAoCF,EAApCE,OAAQC,EAA4BH,EAA5BG,QAASC,EAAmBJ,EAAnBI,aACjCC,EAAeH,EAAOI,IAAI,SAACC,EAAMC,GAAP,OAC5BC,EAAAC,EAAAC,cAAA,SAAOC,IAAKJ,GACRC,EAAAC,EAAAC,cAAA,SACIE,KAAK,WACLC,MAAOP,EACPJ,QAASY,OAAOC,KAAKb,GAASc,SAASV,GACvCW,SAAUd,IAEdK,EAAAC,EAAAC,cAAA,YAAOJ,MAIf,OACIE,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,UACXV,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,cAASV,EAAT,MAEHI,KCVEe,SARG,SAAApB,GAAkC,IAA/BO,EAA+BP,EAA/BO,KAAMO,EAAyBd,EAAzBc,MAAOO,EAAkBrB,EAAlBqB,YAC9B,OACIZ,EAAAC,EAAAC,cAAA,SAAAI,OAAAO,OAAA,CAAQH,UAAU,cAAiB,CAAEL,SAArC,CAA8CS,QAASF,IAClDd,KCSEiB,SAZA,SAAAxB,GAAsB,IAAnBI,EAAmBJ,EAAnBI,aACd,OACIK,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,UACXV,EAAAC,EAAAC,cAAA,SACIE,KAAK,SACLY,YAAY,YACZP,SAAUd,OCHpBsB,EAAe,CAAC,QAAS,OAAQ,WACjCC,EAAe,CAAC,OAAQ,SAAU,WAuCzBC,EArCC,SAAA5B,GAQV,IAPF6B,EAOE7B,EAPF6B,WACAC,EAME9B,EANF8B,WACAC,EAKE/B,EALF+B,UACAC,EAIEhC,EAJFgC,aACAC,EAGEjC,EAHFiC,aACAC,EAEElC,EAFFkC,aACAC,EACEnC,EADFmC,cAEA,OACI1B,EAAAC,EAAAC,cAAA,WAASQ,UAAU,WACfV,EAAAC,EAAAC,cAACyB,EAAD,CAAQhC,aAAcyB,IACtBpB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,gBACXV,EAAAC,EAAAC,cAAC0B,EAAD,CAAW9B,KAAK,MAAMO,MAAM,MAAMO,YAAaU,IAC/CtB,EAAAC,EAAAC,cAAC0B,EAAD,CAAW9B,KAAK,OAAOO,MAAM,OAAOO,YAAaS,KAErDrB,EAAAC,EAAAC,cAAC2B,EAAD,CACIrC,OAAO,SACPC,OAAQwB,EACRvB,QAASgC,EAAcI,OACvBnC,aAAc4B,IAElBvB,EAAAC,EAAAC,cAAC2B,EAAD,CACIrC,OAAO,SACPC,OAAQyB,EACRxB,QAASgC,EAAcK,OACvBpC,aAAc6B,IAElBxB,EAAAC,EAAAC,cAAC0B,EAAD,CACI9B,KAAK,gBACLO,MAAM,QACNO,YAAaa,MCVdO,eA3BE,SAAAzC,GAAc,IAAX0C,EAAW1C,EAAX0C,KACRnC,EAAmDmC,EAAnDnC,KAAMoC,EAA6CD,EAA7CC,MAAOH,EAAsCE,EAAtCF,OAAQI,EAA8BF,EAA9BE,SAAUC,EAAoBH,EAApBG,QAASN,EAAWG,EAAXH,OAEhD,OACI9B,EAAAC,EAAAC,cAAA,MAAIQ,UAAU,aACVV,EAAAC,EAAAC,cAAA,MAAIQ,UAAU,QAAQZ,GACtBE,EAAAC,EAAAC,cAAA,SACIF,EAAAC,EAAAC,cAAA,OAAKmC,IAAKH,EAAOI,IAAI,MAEzBtC,EAAAC,EAAAC,cAAA,MAAIQ,UAAU,mBACVV,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,qBADJ,IACqBkC,GAErBpC,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,oBADJ,IACoB6B,GAEpB/B,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,oBADJ,IACoB4B,GAEpB9B,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,sBADJ,IACsBiC,EAASrC,UCThCyC,EAVEC,IAAMC,WAAW,SAAAlD,EAAYmD,GAAQ,IAAjBC,EAAiBpD,EAAjBoD,MACjC,OACI3C,EAAAC,EAAAC,cAAA,MAAIQ,UAAU,eAAegC,IAAKA,GAC7BC,EAAM9C,IAAI,SAACoC,EAAMlC,GAAP,OACPC,EAAAC,EAAAC,cAAC0C,EAAD,CAAUzC,IAAKJ,EAAGkC,KAAMA,SCRpCY,EAAS,4CAGAC,EAAc,eAAAvD,EAAAe,OAAAyC,EAAA,EAAAzC,CAAA0C,EAAA/C,EAAAgD,KAAG,SAAAC,EAAOC,GAAP,IAAAC,EAAAC,EAAA,OAAAL,EAAA/C,EAAAqD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,YACtBN,EAAO,GAAKA,EAHA,IAEU,CAAAI,EAAAE,KAAA,eAAAF,EAAAG,OAAA,6BAKbC,IAATR,IACAN,GAAM,UAAAe,OAAcT,IANEI,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAUCI,MAAMhB,GAVP,cAUhBO,EAVgBG,EAAAO,KAAAP,EAAAE,KAAA,EAWDL,EAASW,OAXR,cAWhBV,EAXgBE,EAAAO,KAAAP,EAAAG,OAAA,SAafL,EAAOW,SAbQ,QAAAT,EAAAC,KAAA,GAAAD,EAAAU,GAAAV,EAAA,SAetBW,QAAQC,IAARZ,EAAAU,IAfsB,yBAAAV,EAAAa,SAAAlB,EAAA,kBAAH,gBAAAmB,GAAA,OAAA9E,EAAA+E,MAAAC,KAAAC,YAAA,GC+KZC,cA3KX,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAArE,OAAAsE,EAAA,EAAAtE,CAAAiE,KAAAE,IACfE,EAAArE,OAAAuE,EAAA,EAAAvE,CAAAiE,KAAAjE,OAAAwE,EAAA,EAAAxE,CAAAmE,GAAAM,KAAAR,KAAMG,KAyBVM,aAAe,WACXL,EAAKM,cAAgB3E,OAAOb,OAAOkF,EAAKjD,eAAewD,MACnD,SAACC,GAAD,MAAuB,KAAXA,GAAgD,IAA/B7E,OAAOC,KAAK4E,GAAQC,SAGrDT,EAAKU,iBAAmBV,EAAKW,KAAKC,aAAeC,OAAOC,YAEpDd,EAAKU,iBAAmB,KAAOV,EAAKM,eACpCN,EAAKe,QAAQf,EAAKxB,SAlCPwB,EA8CnBvD,WAAa,SAACuE,GACVA,EAAEC,kBAEF,IAAM9F,EAAO6F,EAAEE,OAAOxF,MAAMyF,cAC5BnB,EAAKjD,cAAc5B,KAAOA,EAC1B6E,EAAKoB,gBAnDUpB,EAsDnBtD,WAAa,SAACsE,GACVA,EAAEC,kBACFjB,EAAKjD,cAAcsE,KAAO,OAC1BrB,EAAKoB,gBAzDUpB,EA4DnBrD,UAAY,SAACqE,GACTA,EAAEC,kBACFjB,EAAKjD,cAAcsE,KAAO,MAC1BrB,EAAKoB,gBA/DUpB,EAkEnBpD,aAAe,SAACoE,GACZA,EAAEC,kBADgB,IAAAK,EAESN,EAAEE,OAArBxF,EAFU4F,EAEV5F,MAAOX,EAFGuG,EAEHvG,aAE0BiE,IAArCgB,EAAKjD,cAAcI,OAAOzB,GAC1BsE,EAAKjD,cAAcI,OAAOzB,GAASX,SAE5BiF,EAAKjD,cAAcI,OAAOzB,GAGrCsE,EAAKoB,gBA5EUpB,EA+EnBnD,aAAe,SAACmE,GACZA,EAAEC,kBADgB,IAAAM,EAESP,EAAEE,OAArBxF,EAFU6F,EAEV7F,MAAOX,EAFGwG,EAEHxG,aAE0BiE,IAArCgB,EAAKjD,cAAcK,OAAO1B,GAC1BsE,EAAKjD,cAAcK,OAAO1B,GAASX,SAE5BiF,EAAKjD,cAAcK,OAAO1B,GAGrCsE,EAAKoB,gBAzFUpB,EA4FnBlD,aAAe,SAACkE,GACZA,EAAEC,kBACFjB,EAAKjD,cAAgB,CACjB5B,KAAM,GACNkG,KAAM,GACNlE,OAAQ,GACRC,OAAQ,IAEZ4C,EAAKoB,gBApGUpB,EAuGnBoB,aAAe,WAAM,IACTT,EAASX,EAAKwB,MAAdb,KADSc,EAEsBzB,EAAKjD,cAApC5B,EAFSsG,EAETtG,KAAMkG,EAFGI,EAEHJ,KAAMlE,EAFHsE,EAEGtE,OAAQC,EAFXqE,EAEWrE,OACxBsE,EAAaC,KAAKC,MAAMD,KAAKE,UAAUlB,IAE9B,KAATxF,IACAuG,EAAaA,EAAWlB,OAAO,SAACsB,GAAD,OAC3BA,EAAK3G,KAAKgG,cAActF,SAASV,MAG5B,SAATkG,GACAK,EAAWL,KAAK,SAACU,EAAOC,GACpB,GAAID,EAAM5G,KAAO6G,EAAM7G,KAAM,OAAQ,IAIhC,QAATkG,GACAK,EAAWL,KAAK,SAACU,EAAOC,GACpB,GAAID,EAAM5G,KAAO6G,EAAM7G,KAAM,OAAQ,IAIzCQ,OAAOC,KAAKuB,GAAQsD,OAAS,IAC7BiB,EAAaA,EAAWlB,OAAO,SAACsB,GAAD,OAC3BnG,OAAOC,KAAKuB,GAAQtB,SAASiG,EAAK3E,WAItCxB,OAAOC,KAAKwB,GAAQqD,OAAS,IAC7BiB,EAAaA,EAAWlB,OAAO,SAACsB,GAAD,OAC3BnG,OAAOC,KAAKwB,GAAQvB,SAASiG,EAAK1E,WAI1C4C,EAAKiC,SAAS,CAAEP,gBAvIhB1B,EAAKwB,MAAQ,CACTb,KAAM,GACNe,WAAY,MAEhB1B,EAAKjD,cAAgB,CACjB5B,KAAM,GACNkG,KAAM,GACNlE,OAAQ,GACRC,OAAQ,IAEZ4C,EAAKxB,KAAO,EACZwB,EAAKM,eAAgB,EACrBN,EAAKU,iBAAmB,IAdTV,mFAkBfJ,KAAKmB,UACLF,OAAOqB,iBAAiB,SAAUtC,KAAKS,6DAIvCQ,OAAOsB,oBAAoB,SAAUvC,KAAKS,sFAkBhC7B,yFACSL,EAAeK,UAA5BmC,SACNf,KAAKqC,SAAS,CAAEtB,KAAI,GAAA1B,OAAAtD,OAAAyG,EAAA,EAAAzG,CAAMiE,KAAK4B,MAAMb,MAAjBhF,OAAAyG,EAAA,EAAAzG,CAA0BgF,0IAiGzC,IAAA0B,EAAAzC,KAAA0C,EACwB1C,KAAK4B,MAA1Bb,EADH2B,EACG3B,KAAMe,EADTY,EACSZ,WAEd,OACIrG,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,aACXV,EAAAC,EAAAC,cAAA,UAAQQ,UAAU,UACdV,EAAAC,EAAAC,cAAA,MAAIQ,UAAU,gBAAd,sBAEJV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,gBACXV,EAAAC,EAAAC,cAACgH,EAAD,CACI9F,WAAYmD,KAAKnD,WACjBC,WAAYkD,KAAKlD,WACjBC,UAAWiD,KAAKjD,UAChB6F,WAAY5C,KAAK4C,WACjB5F,aAAcgD,KAAKhD,aACnBC,aAAc+C,KAAK/C,aACnBC,aAAc8C,KAAK9C,aACnBC,cAAe6C,KAAK7C,gBAExB1B,EAAAC,EAAAC,cAACkH,EAAD,CACI1E,IAAK,SAAC2E,GACFL,EAAK1B,KAAO+B,GAEhB1E,MAAsB,OAAf0D,EAAsBf,EAAOe,aApK1CiB,aCFlBC,IAASC,OAAOxH,EAAAC,EAAAC,cAACuH,EAAD,MAAeC,SAASC,eAAe","file":"static/js/main.42993986.chunk.js","sourcesContent":["import React from 'react';\nimport './Filter.scss';\n\nconst Filter = ({ header, values, checked, handleChange }) => {\n    const renderFilter = values.map((name, i) => (\n        <label key={i}>\n            <input\n                type='checkbox'\n                value={name}\n                checked={Object.keys(checked).includes(name)}\n                onChange={handleChange}\n            />\n            <span>{name}</span>\n        </label>\n    ));\n\n    return (\n        <div className='filter'>\n            <div>\n                <strong>{header}:</strong>\n            </div>\n            {renderFilter}\n        </div>\n    );\n};\n\nexport default Filter;\n","import React from 'react';\nimport './FilterBtn.scss';\n\nconst FilterBtn = ({ name, value, handleClick }) => {\n    return (\n        <button className='filter-btn' {...{ value }} onClick={handleClick}>\n            {name}\n        </button>\n    );\n};\n\nexport default FilterBtn;\n","import React from 'react';\nimport './Search.scss';\n\nconst Search = ({ handleChange }) => {\n    return (\n        <div className='search'>\n            <input\n                type='search'\n                placeholder='Search...'\n                onChange={handleChange}\n            />\n        </div>\n    );\n};\n\nexport default Search;\n","import React from 'react';\nimport './Filters.scss';\nimport { Filter } from './Filter';\nimport { FilterBtn } from './FilterBtn';\nimport { Search } from './Search';\n\nconst statusValues = ['Alive', 'Dead', 'unknown'];\nconst genderValues = ['Male', 'Female', 'unknown'];\n\nconst Filters = ({\n    sortByName,\n    sortByDesc,\n    sortByAsc,\n    sortByStatus,\n    sortByGender,\n    resetFilters,\n    activeFilters,\n}) => {\n    return (\n        <section className='filters'>\n            <Search handleChange={sortByName} />\n            <div className='sort-wrapper'>\n                <FilterBtn name='Asc' value='asc' handleClick={sortByAsc} />\n                <FilterBtn name='Desc' value='desc' handleClick={sortByDesc} />\n            </div>\n            <Filter\n                header='Status'\n                values={statusValues}\n                checked={activeFilters.status}\n                handleChange={sortByStatus}\n            />\n            <Filter\n                header='Gender'\n                values={genderValues}\n                checked={activeFilters.gender}\n                handleChange={sortByGender}\n            />\n            <FilterBtn\n                name='Reset Filters'\n                value='reset'\n                handleClick={resetFilters}\n            />\n        </section>\n    );\n};\n\nexport default Filters;\n","import React from 'react';\nimport './CardItem.scss';\n\nconst CardItem = ({ card }) => {\n    const { name, image, gender, location, species, status } = card;\n\n    return (\n        <li className='user-card'>\n            <h3 className='name'>{name}</h3>\n            <p>\n                <img src={image} alt='' />\n            </p>\n            <ul className='user-card__info'>\n                <li>\n                    <b>Species:</b> {species}\n                </li>\n                <li>\n                    <b>Gender:</b> {gender}\n                </li>\n                <li>\n                    <b>Status:</b> {status}\n                </li>\n                <li>\n                    <b>Location:</b> {location.name}\n                </li>\n            </ul>\n        </li>\n    );\n};\n\nexport default CardItem;\n","import React from 'react';\nimport './CardList.scss';\nimport { CardItem } from './CardItem';\n\nconst CardList = React.forwardRef(({ cards }, ref) => {\n    return (\n        <ul className='card-wrapper' ref={ref}>\n            {cards.map((card, i) => (\n                <CardItem key={i} card={card} />\n            ))}\n        </ul>\n    );\n});\n\nexport default CardList;\n","let apiUrl = 'https://rickandmortyapi.com/api/character';\nconst COUNT_PAGES = 25;\n\nexport const getDataFromApi = async (page) => {\n    if (page < 0 && page > COUNT_PAGES) {\n        return;\n    }\n\n    if (page !== undefined) {\n        apiUrl += `/?page=${page}`;\n    }\n\n    try {\n        const response = await fetch(apiUrl);\n        const result = await response.json();\n\n        return result.results;\n    } catch (err) {\n        console.log(err);\n    }\n};\n","import React, { Component } from 'react';\nimport './Container.scss';\nimport { Filters } from '../Filters';\nimport { CardList } from '../CardList';\nimport { getDataFromApi } from '../../utils/getDataFromApi';\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list: [],\n            sortedList: null,\n        };\n        this.activeFilters = {\n            name: '',\n            sort: '',\n            status: {},\n            gender: {},\n        };\n        this.page = 1;\n        this.isFreeFilters = true;\n        this.heightForUpdList = 1000;\n    }\n\n    componentDidMount() {\n        this.setList();\n        window.addEventListener('scroll', this.handleScroll);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('scroll', this.handleScroll);\n    }\n\n    handleScroll = () => {\n        this.isFreeFilters = Object.values(this.activeFilters).every(\n            (filter) => filter === '' || Object.keys(filter).length === 0\n        );\n\n        this.heightForUpdList = this.list.clientHeight - window.pageYOffset;\n\n        if (this.heightForUpdList < 805 && this.isFreeFilters) {\n            this.setList(this.page++);\n        }\n        // console.log(this.list.clientHeight - window.pageYOffset);\n        // console.log(this.list.clientHeight);\n        // console.log(window.pageYOffset);\n    };\n\n    async setList(page) {\n        const list = await getDataFromApi(page);\n        this.setState({ list: [...this.state.list, ...list] });\n    }\n\n    sortByName = (e) => {\n        e.stopPropagation();\n\n        const name = e.target.value.toLowerCase();\n        this.activeFilters.name = name;\n        this.applyFilters();\n    };\n\n    sortByDesc = (e) => {\n        e.stopPropagation();\n        this.activeFilters.sort = 'desc';\n        this.applyFilters();\n    };\n\n    sortByAsc = (e) => {\n        e.stopPropagation();\n        this.activeFilters.sort = 'asc';\n        this.applyFilters();\n    };\n\n    sortByStatus = (e) => {\n        e.stopPropagation();\n        const { value, checked } = e.target;\n\n        if (this.activeFilters.status[value] === undefined) {\n            this.activeFilters.status[value] = checked;\n        } else {\n            delete this.activeFilters.status[value];\n        }\n\n        this.applyFilters();\n    };\n\n    sortByGender = (e) => {\n        e.stopPropagation();\n        const { value, checked } = e.target;\n\n        if (this.activeFilters.gender[value] === undefined) {\n            this.activeFilters.gender[value] = checked;\n        } else {\n            delete this.activeFilters.gender[value];\n        }\n\n        this.applyFilters();\n    };\n\n    resetFilters = (e) => {\n        e.stopPropagation();\n        this.activeFilters = {\n            name: '',\n            sort: '',\n            status: {},\n            gender: {},\n        };\n        this.applyFilters();\n    };\n\n    applyFilters = () => {\n        const { list } = this.state;\n        const { name, sort, status, gender } = this.activeFilters;\n        let sortedList = JSON.parse(JSON.stringify(list));\n\n        if (name !== '') {\n            sortedList = sortedList.filter((item) =>\n                item.name.toLowerCase().includes(name)\n            );\n        }\n        if (sort !== 'desc') {\n            sortedList.sort((nameA, nameB) => {\n                if (nameA.name < nameB.name) return -1;\n            });\n        }\n\n        if (sort !== 'asc') {\n            sortedList.sort((nameA, nameB) => {\n                if (nameA.name > nameB.name) return -1;\n            });\n        }\n\n        if (Object.keys(status).length > 0) {\n            sortedList = sortedList.filter((item) =>\n                Object.keys(status).includes(item.status)\n            );\n        }\n\n        if (Object.keys(gender).length > 0) {\n            sortedList = sortedList.filter((item) =>\n                Object.keys(gender).includes(item.gender)\n            );\n        }\n\n        this.setState({ sortedList });\n    };\n\n    render() {\n        const { list, sortedList } = this.state;\n\n        return (\n            <div className='container'>\n                <header className='header'>\n                    <h1 className='header__text'>Friends App React</h1>\n                </header>\n                <div className='content-wrap'>\n                    <Filters\n                        sortByName={this.sortByName}\n                        sortByDesc={this.sortByDesc}\n                        sortByAsc={this.sortByAsc}\n                        sortFilter={this.sortFilter}\n                        sortByStatus={this.sortByStatus}\n                        sortByGender={this.sortByGender}\n                        resetFilters={this.resetFilters}\n                        activeFilters={this.activeFilters}\n                    />\n                    <CardList\n                        ref={(el) => {\n                            this.list = el;\n                        }}\n                        cards={sortedList === null ? list : sortedList}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Container } from './components/Container';\n\nReactDOM.render(<Container />, document.getElementById('root'));\n"],"sourceRoot":""}